<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kalkulator Kesehatan - SehatKu</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* ========================================= */
      /* ==    PALET SIMPLE & MEWAH BARU    == */
      /* ========================================= */
      :root {
        /* Primary: Deep, calming teal */
        --primary-color: #0a5c5a;
        /* Secondary/Accent: Warm, luxurious gold */
        --secondary-color: #c6a875;
        /* Accent: A lighter, active teal */
        --accent-color: #1e8a86;

        /* Neutrals: Warm and sophisticated */
        --neutral-light: #fdfbf5; /* Ivory (untuk body) */
        --neutral-medium: #eae6da; /* Beige (untuk border) */
        --neutral-dark: #2c3333;
        --white: #ffffff; /* Putih bersih (untuk kartu) */

        /* Text */
        --text-primary: #2c3333;
        --text-secondary: #5a5a5a;

        /* Shadows: Jauh lebih lembut */
        --shadow-soft: 0 8px 30px rgba(0, 0, 0, 0.06);
        --shadow-medium: 0 10px 40px rgba(0, 0, 0, 0.07);

        /* Semantic (dipertahankan untuk JS) */
        --success-color: #28a745;
        --warning-color: #ffc107;
        --danger-color: #dc3545;
      }

      body {
        font-family: "Poppins", sans-serif;
        color: var(--text-primary);
        line-height: 1.7;
        background-color: var(--neutral-light); /* Latar belakang Ivory */
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-family: "Poppins", sans-serif;
        font-weight: 600;
      }

      /* == Header == */
      .navbar {
        padding: 1.5rem 0;
        transition: all 0.3s ease;
        background-color: rgba(253, 251, 245, 0.9) !important;
        backdrop-filter: blur(12px);
      }

      .navbar.scrolled {
        padding: 1rem 0;
        box-shadow: var(--shadow-soft);
        background-color: rgba(253, 251, 245, 0.95) !important;
      }

      .navbar-brand {
        font-family: "Playfair Display", serif;
        font-size: 1.8rem;
        font-weight: 700;
        color: var(--primary-color) !important;
      }

      .nav-link {
        font-weight: 500;
        margin: 0 0.5rem;
        position: relative;
        color: var(--text-primary) !important;
      }

      .nav-link::after {
        content: "";
        position: absolute;
        width: 0;
        height: 2px;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        background-color: var(--secondary-color);
        transition: width 0.3s ease;
      }

      .nav-link:hover::after,
      .nav-link.active::after {
        width: 70%;
      }

      /* ========================================
        ==  PERUBAHAN BESAR 1: Page Header  ==
        ========================================
        Header dibuat bersih, simpel, dan elegan.
        Menghilangkan gradient dan gambar latar.
      */
      .page-header {
        padding: 6rem 0 4rem;
        margin-top: 76px;
        color: var(--text-primary); /* Override text-white dari HTML */
        background-color: transparent; /* Hapus latar belakang gelap */
      }

      .page-header h1 {
        font-family: "Playfair Display", serif; /* Font "mewah" */
        font-size: 3.5rem;
        color: var(--text-primary);
        position: relative;
        display: inline-block;
        margin-bottom: 2rem;
        font-weight: 700;
      }

      /* Garis emas di bawah judul utama */
      .page-header h1::after {
        content: "";
        position: absolute;
        width: 80px;
        height: 3px;
        background-color: var(--secondary-color); /* Aksen Emas */
        bottom: -15px;
        left: 50%;
        transform: translateX(-50%);
      }
      /* ========================================
        ==  AKHIR PERUBAHAN BESAR 1 ==
        ======================================== */

      /* ========================================
        ==  PERUBAHAN BESAR 2: Desain Kartu  ==
        ========================================
        Dibuat lebih lega, bersih, dan lembut.
      */
      .calculator-card,
      .info-card {
        background-color: var(--white); /* Putih bersih, kontras dgn body */
        border-radius: 24px; /* Lebih lembut */
        overflow: hidden;
        box-shadow: var(--shadow-soft); /* Bayangan lebih lembut */
        transition: all 0.3s ease;
        margin-bottom: 2rem;
        border: none;
        height: 100%; /* Menyamakan tinggi info-card */
      }

      .calculator-card:hover,
      .info-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-medium);
      }

      .calculator-header {
        padding: 2.5rem 2.5rem 0.5rem 2.5rem; /* Padding lebih besar */
        color: var(--text-primary);
        background-color: transparent !important;
      }

      .calculator-header h4 {
        margin: 0;
        font-size: 1.5rem;
        font-family: "Poppins", sans-serif;
        font-weight: 600;
        display: flex;
        align-items: center;
      }

      .calculator-header.bg-primary h4 i {
        color: var(--primary-color);
        width: 30px;
      }
      .calculator-header.bg-success h4 i {
        color: var(--secondary-color);
        width: 30px;
      }

      .calculator-body {
        padding: 1rem 2.5rem 2.5rem 2.5rem; /* Padding lebih besar & lega */
      }

      .info-card {
        padding: 2.5rem; /* Padding lebih besar */
      }
      /* ========================================
        ==  AKHIR PERUBAHAN BESAR 2 ==
        ======================================== */

      .form-group-stacked {
        margin-bottom: 1.5rem;
      }

      .form-label {
        font-weight: 500;
        margin-bottom: 0.5rem;
        color: var(--text-primary);
      }

      /* ========================================
        ==  PERUBAHAN BESAR 3: Input Form  ==
        ========================================
      */
      .form-control,
      .form-select {
        border-radius: 12px;
        padding: 0.85rem 1rem;
        border: 1px solid var(--neutral-medium);
        background-color: var(--white); /* Latar belakang putih bersih */
        transition: all 0.3s ease;
        width: 100%;
      }

      /* Aksen Emas saat di-klik (focus) */
      .form-control:focus,
      .form-select:focus {
        border-color: var(--secondary-color); /* Border Emas */
        background-color: var(--white);
        box-shadow: 0 0 0 3px rgba(198, 168, 117, 0.25); /* Glow Emas tipis */
      }
      /* ========================================
        ==  AKHIR PERUBAHAN BESAR 3 ==
        ======================================== */

      .form-text {
        font-size: 0.85rem;
        color: var(--text-secondary);
        margin-top: 0.5rem;
      }

      /* == Buttons == */
      .btn {
        border-radius: 50px;
        padding: 0.85rem 2rem;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
      }

      .btn-primary {
        background-color: var(--primary-color);
        border-color: var(--primary-color);
        box-shadow: 0 4px 15px rgba(10, 92, 90, 0.2);
      }

      .btn-primary:hover {
        background-color: #0d7a77;
        border-color: #0d7a77;
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(10, 92, 90, 0.3);
      }

      .btn-success {
        background-color: var(--secondary-color);
        border-color: var(--secondary-color);
        color: #4f4020;
        box-shadow: 0 4px 15px rgba(198, 168, 117, 0.25);
      }

      .btn-success:hover {
        background-color: #dcb981;
        border-color: #dcb981;
        color: #4f4020;
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(198, 168, 117, 0.35);
      }

      /* == Result Box == */
      .result-box {
        background: linear-gradient(135deg, var(--neutral-light), var(--white));
        border-radius: 12px;
        padding: 2rem;
        margin-top: 1.5rem;
        border: 1px solid var(--neutral-medium);
        border-left: 5px solid var(--secondary-color);
        display: none;
        box-shadow: var(--shadow-soft);
      }

      .result-value {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--primary-color);
        margin: 0.5rem 0;
      }

      .result-category {
        font-size: 1.1rem;
        font-weight: 500;
        margin-bottom: 1rem;
        padding: 0.5rem 1rem;
        border-radius: 50px;
        display: inline-block;
      }

      .progress {
        height: 10px;
        border-radius: 5px;
        background-color: var(--neutral-medium);
        overflow: hidden;
      }

      .progress-bar {
        border-radius: 5px;
        transition: width 0.8s ease;
      }

      /* == Info Cards == */
      .info-card h5 {
        margin-bottom: 1.5rem;
        color: var(--text-primary);
      }
      .info-card h5 i {
        color: var(--secondary-color);
      }

      .table th {
        font-weight: 600;
        border-top: none;
      }

      /* ========================================
        ==  PERUBAHAN BESAR 4: Konsistensi Warna ==
        ======================================== */
      /* Ikon centang diubah jadi Teal (primary) */
      .info-card .fa-check {
        color: var(--primary-color);
      }
      /* ========================================
        ==  AKHIR PERUBAHAN BESAR 4 ==
        ======================================== */

      /* == Footer == */
      footer {
        background-color: var(--neutral-dark);
        color: var(--neutral-medium);
        padding: 3rem 0;
        margin-top: 4rem;
      }

      footer p {
        margin: 0;
        color: var(--neutral-medium);
      }

      /* == Animations == */
      .fade-in {
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.6s ease;
      }

      .fade-in.visible {
        opacity: 1;
        transform: translateY(0);
      }

      .section-title {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        position: relative;
        display: inline-block;
        font-family: "Playfair Display", serif;
      }

      .section-title::after {
        content: "";
        position: absolute;
        width: 60px;
        height: 3px;
        background-color: var(--secondary-color);
        bottom: -10px;
        left: 0;
      }

      /* == Responsive == */
      @media (max-width: 768px) {
        .page-header h1 {
          font-size: 2.5rem;
        }

        .calculator-body,
        .info-card {
          padding: 1.5rem; /* Padding lebih kecil di mobile */
        }

        .result-value {
          font-size: 2rem;
        }
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
      <div class="container">
        <a class="navbar-brand" href="index.html">
          <i class="fas fa-heartbeat me-2"></i>SehatKu
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Beranda</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="berita.html">Berita</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="edukasi.html">Edukasi</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="gangguan.html">Bank Penyakit</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="bankobat.html">Bank Obat</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="tespsikologi.html">Tes Psikologi</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="calculator.html">Kalkulator</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <section class="page-header">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto text-center">
            <h1 class="display-4 fw-bold">Kalkulator Kesehatan</h1>
            <p class="lead">
              Hitung berbagai parameter kesehatan untuk memantau kondisi Anda
              dengan mudah dan akurat
            </p>
          </div>
        </div>
      </div>
    </section>

    <section class="py-5">
      <div class="container">
        <div class="row g-4">
          <div class="col-md-6">
            <div class="calculator-card fade-in">
              <div class="calculator-header bg-primary">
                <h4 class="mb-0">
                  <i class="fas fa-weight me-2"></i>Kalkulator BMI
                </h4>
              </div>
              <div class="calculator-body">
                <p class="text-muted mb-4">
                  Body Mass Index (BMI) mengukur berat badan ideal berdasarkan
                  tinggi badan untuk menilai status gizi Anda.
                </p>

                <div class="form-group-stacked">
                  <label for="weight" class="form-label"
                    >Berat Badan (kg)</label
                  >
                  <input
                    type="number"
                    class="form-control"
                    id="weight"
                    placeholder="Contoh: 65"
                    min="20"
                    max="200"
                  />
                  <div class="form-text">
                    Masukkan berat badan dalam kilogram
                  </div>
                </div>

                <div class="form-group-stacked">
                  <label for="height" class="form-label"
                    >Tinggi Badan (cm)</label
                  >
                  <input
                    type="number"
                    class="form-control"
                    id="height"
                    placeholder="Contoh: 170"
                    min="100"
                    max="250"
                  />
                  <div class="form-text">
                    Masukkan tinggi badan dalam centimeter
                  </div>
                </div>

                <button
                  id="calculate-bmi"
                  class="btn btn-primary w-100 mt-3 py-3"
                >
                  <i class="fas fa-calculator me-2"></i>Hitung BMI
                </button>

                <div id="bmi-result" class="result-box">
                  <h5>Hasil BMI Anda:</h5>
                  <div class="result-value" id="bmi-value">-</div>
                  <div class="result-category" id="bmi-category">-</div>
                  <div class="progress mt-3">
                    <div
                      id="bmi-progress"
                      class="progress-bar"
                      role="progressbar"
                      style="width: 0%"
                    ></div>
                  </div>
                  <small id="bmi-description" class="d-block mt-3"
                    >Deskripsi akan muncul di sini</small
                  >
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-6">
            <div class="calculator-card fade-in">
              <div class="calculator-header bg-success">
                <h4 class="mb-0">
                  <i class="fas fa-fire me-2"></i>Kalkulator Kalori
                </h4>
              </div>
              <div class="calculator-body">
                <p class="text-muted mb-4">
                  Hitung kebutuhan kalori harian Anda berdasarkan profil dan
                  tingkat aktivitas fisik.
                </p>

                <div class="form-group-stacked">
                  <label for="age" class="form-label">Usia</label>
                  <input
                    type="number"
                    class="form-control"
                    id="age"
                    placeholder="Contoh: 25"
                    min="12"
                    max="100"
                  />
                </div>

                <div class="form-group-stacked">
                  <label for="gender" class="form-label">Jenis Kelamin</label>
                  <select class="form-select" id="gender">
                    <option value="male">Laki-laki</option>
                    <option value="female">Perempuan</option>
                  </select>
                </div>

                <div class="form-group-stacked">
                  <label for="weight-calorie" class="form-label"
                    >Berat Badan (kg)</label
                  >
                  <input
                    type="number"
                    class="form-control"
                    id="weight-calorie"
                    placeholder="Contoh: 65"
                    min="20"
                    max="200"
                  />
                </div>

                <div class="form-group-stacked">
                  <label for="height-calorie" class="form-label"
                    >Tinggi Badan (cm)</label
                  >
                  <input
                    type="number"
                    class="form-control"
                    id="height-calorie"
                    placeholder="Contoh: 170"
                    min="100"
                    max="250"
                  />
                </div>

                <div class="form-group-stacked">
                  <label for="activity" class="form-label"
                    >Tingkat Aktivitas</label
                  >
                  <select class="form-select" id="activity">
                    <option value="1.2">
                      Sedentary (sedikit atau tidak berolahraga)
                    </option>
                    <option value="1.375">
                      Ringan (olahraga ringan 1-3 hari/minggu)
                    </option>
                    <option value="1.55">
                      Sedang (olahraga sedang 3-5 hari/minggu)
                    </option>
                    <option value="1.725">
                      Aktif (olahraga berat 6-7 hari/minggu)
                    </option>
                    <option value="1.9">
                      Sangat Aktif (olahraga sangat berat & pekerjaan fisik)
                    </option>
                  </select>
                </div>

                <button
                  id="calculate-calories"
                  class="btn btn-success w-100 mt-3 py-3"
                >
                  <i class="fas fa-bolt me-2"></i>Hitung Kebutuhan Kalori
                </button>

                <div id="calories-result" class="result-box">
                  <h5>Kebutuhan Kalori Harian Anda:</h5>
                  <div class="result-value" id="calories-value">-</div>
                  <div class="mt-3">
                    <div class="d-flex justify-content-between mb-2">
                      <small><strong>Penurunan Berat Badan:</strong></small>
                      <small
                        ><span id="weight-loss-calories">-</span>
                        kalori/hari</small
                      >
                    </div>
                    <div class="d-flex justify-content-between mb-2">
                      <small><strong>Pemeliharaan:</strong></small>
                      <small
                        ><span id="maintenance-calories">-</span>
                        kalori/hari</small
                      >
                    </div>
                    <div class="d-flex justify-content-between">
                      <small><strong>Penambahan Berat Badan:</strong></small>
                      <small
                        ><span id="weight-gain-calories">-</span>
                        kalori/hari</small
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row mt-5">
          <div class="col-md-6">
            <div class="info-card fade-in">
              <h5><i class="fas fa-info-circle me-2"></i>Informasi BMI</h5>
              <div class="table-responsive">
                <table class="table table-sm">
                  <thead>
                    <tr>
                      <th>Kategori</th>
                      <th>BMI Range</th>
                      <th>Status</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Kurus</td>
                      <td>&lt; 18.5</td>
                      <td>Perlu menambah berat badan</td>
                    </tr>
                    <tr>
                      <td>Normal</td>
                      <td>18.5 - 24.9</td>
                      <td>Berat badan ideal</td>
                    </tr>
                    <tr>
                      <td>Gemuk</td>
                      <td>25 - 29.9</td>
                      <td>Perlu menurunkan berat badan</td>
                    </tr>
                    <tr>
                      <td>Obesitas</td>
                      <td>&gt;= 30</td>
                      <td>Perlu penanganan serius</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="info-card fade-in">
              <h5><i class="fas fa-lightbulb me-2"></i>Tips Kalori Sehat</h5>
              <ul class="list-unstyled">
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Konsumsi makanan bergizi
                  seimbang
                </li>
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Perbanyak protein dan serat
                </li>
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Batasi gula dan lemak jenuh
                </li>
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Minum air putih yang cukup
                </li>
                <li class="mb-2">
                  <i class="fas fa-check me-2"></i>Kombinasikan dengan olahraga
                  teratur
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer class="py-4 footer">
      <div class="container text-center">
        <p>&copy; 2025 SehatKu. All rights reserved.</p>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const calculateBmiBtn = document.getElementById("calculate-bmi");
        const calculateCaloriesBtn =
          document.getElementById("calculate-calories");
        const bmiResult = document.getElementById("bmi-result");
        const caloriesResult = document.getElementById("calories-result");

        // Navbar scroll effect
        window.addEventListener("scroll", function () {
          const navbar = document.querySelector(".navbar");
          if (window.scrollY > 50) {
            navbar.classList.add("scrolled");
          } else {
            navbar.classList.remove("scrolled");
          }
        });

        // Fade in animation on scroll
        const fadeElements = document.querySelectorAll(".fade-in");

        const fadeInOnScroll = function () {
          fadeElements.forEach((element) => {
            const elementTop = element.getBoundingClientRect().top;
            const elementVisible = 150;

            if (elementTop < window.innerHeight - elementVisible) {
              element.classList.add("visible");
            }
          });
        };

        window.addEventListener("scroll", fadeInOnScroll);
        // Initial check
        fadeInOnScroll();

        // BMI Calculator
        calculateBmiBtn.addEventListener("click", function () {
          const weight = parseFloat(document.getElementById("weight").value);
          const height = parseFloat(document.getElementById("height").value);

          // Validasi input
          if (!weight || !height) {
            alert("Silakan masukkan berat dan tinggi badan yang valid.");
            return;
          }

          if (weight < 20 || weight > 200) {
            alert("Berat badan harus antara 20-200 kg.");
            return;
          }

          if (height < 100 || height > 250) {
            alert("Tinggi badan harus antara 100-250 cm.");
            return;
          }

          // Hitung BMI
          const heightInMeter = height / 100;
          const bmi = weight / (heightInMeter * heightInMeter);
          const roundedBmi = bmi.toFixed(1);

          // Tentukan kategori BMI
          let category = "";
          let description = "";
          let progressWidth = 0;
          let progressColor = "";
          let categoryColor = "";

          if (bmi < 18.5) {
            category = "KURUS";
            description =
              "Berat badan Anda kurang. Disarankan untuk menambah asupan makanan bergizi dan berkonsultasi dengan ahli gizi.";
            progressWidth = (bmi / 18.5) * 25;
            progressColor = "bg-warning";
            categoryColor = "background-color: #ffc107; color: #212529;";
          } else if (bmi >= 18.5 && bmi <= 24.9) {
            category = "NORMAL";
            description =
              "Selamat! Berat badan Anda ideal. Pertahankan pola makan sehat dan olahraga teratur.";
            progressWidth = 25 + ((bmi - 18.5) / (24.9 - 18.5)) * 50;
            progressColor = "bg-success";
            categoryColor = "background-color: #28a745; color: white;";
          } else if (bmi >= 25 && bmi <= 29.9) {
            category = "GEMUK";
            description =
              "Anda memiliki berat badan berlebih. Disarankan untuk menurunkan berat badan melalui diet sehat dan olahraga.";
            progressWidth = 75 + ((bmi - 25) / (29.9 - 25)) * 15;
            progressColor = "bg-warning";
            categoryColor = "background-color: #ffc107; color: #212529;";
          } else {
            category = "OBESITAS";
            description =
              "Anda mengalami obesitas. Sangat disarankan untuk berkonsultasi dengan dokter dan melakukan program penurunan berat badan.";
            progressWidth = 90 + ((bmi - 30) / 20) * 10;
            progressColor = "bg-danger";
            categoryColor = "background-color: #dc3545; color: white;";
          }

          // Tampilkan hasil
          document.getElementById("bmi-value").textContent = roundedBmi;
          document.getElementById("bmi-category").textContent = category;
          document.getElementById("bmi-category").style = categoryColor;
          document.getElementById("bmi-description").textContent = description;

          const bmiProgress = document.getElementById("bmi-progress");
          bmiProgress.style.width = Math.min(progressWidth, 100) + "%";
          bmiProgress.className = "progress-bar " + progressColor;

          bmiResult.style.display = "block";
          bmiResult.scrollIntoView({ behavior: "smooth", block: "nearest" });
        });

        // Calorie Calculator
        calculateCaloriesBtn.addEventListener("click", function () {
          const age = parseInt(document.getElementById("age").value);
          const gender = document.getElementById("gender").value;
          const weight = parseFloat(
            document.getElementById("weight-calorie").value
          );
          const height = parseFloat(
            document.getElementById("height-calorie").value
          );
          const activity = parseFloat(
            document.getElementById("activity").value
          );

          // Validasi input
          if (!age || !weight || !height) {
            alert("Silakan lengkapi semua data yang diperlukan.");
            return;
          }

          if (age < 12 || age > 100) {
            alert("Usia harus antara 12-100 tahun.");
            return;
          }

          if (weight < 20 || weight > 200) {
            alert("Berat badan harus antara 20-200 kg.");
            return;
          }

          if (height < 100 || height > 250) {
            alert("Tinggi badan harus antara 100-250 cm.");
            return;
          }

          // Hitung BMR (Basal Metabolic Rate)
          let bmr;
          if (gender === "male") {
            bmr = 10 * weight + 6.25 * height - 5 * age + 5;
          } else {
            bmr = 10 * weight + 6.25 * height - 5 * age - 161;
          }

          // Hitung TDEE (Total Daily Energy Expenditure)
          const maintenanceCalories = Math.round(bmr * activity);
          const weightLossCalories = Math.round(maintenanceCalories * 0.85);
          const weightGainCalories = Math.round(maintenanceCalories * 1.15);

          // Tampilkan hasil
          document.getElementById("calories-value").textContent =
            maintenanceCalories.toLocaleString() + " kalori/hari";
          document.getElementById("weight-loss-calories").textContent =
            weightLossCalories.toLocaleString();
          document.getElementById("maintenance-calories").textContent =
            maintenanceCalories.toLocaleString();
          document.getElementById("weight-gain-calories").textContent =
            weightGainCalories.toLocaleString();

          caloriesResult.style.display = "block";
          caloriesResult.scrollIntoView({
            behavior: "smooth",
            block: "nearest",
          });
        });

        // Auto-fill weight and height from BMI to Calorie calculator
        document
          .getElementById("weight")
          .addEventListener("input", function () {
            document.getElementById("weight-calorie").value = this.value;
          });

        document
          .getElementById("height")
          .addEventListener("input", function () {
            document.getElementById("height-calorie").value = this.value;
          });

        // Reset results when inputs change
        const inputs = document.querySelectorAll("input, select");
        inputs.forEach((input) => {
          input.addEventListener("input", function () {
            bmiResult.style.display = "none";
            caloriesResult.style.display = "none";
          });
        });
      });
    </script>
  </body>
</html>
